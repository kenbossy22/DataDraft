<!DOCTYPE html>
<html>
  <head>
    <title>3D Scatterplot in VR</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>
  </head>
  <body>
    <a-scene background="color: #000">
      <!-- Sky and Lighting -->
      <a-sky color="#000"></a-sky>
      <a-light type="directional" position="-1 2 1" intensity="0.8"></a-light>

      <!-- Axes -->
      <a-entity id="axes">
        <!-- X-Axis (Completeness Rating) -->
        <a-entity line="start: 0 0 0; end: 5 0 0; color: red;"></a-entity>
        <a-text value="Completeness Rating" color="red" position="6 0 0" rotation="0 0 0" scale="1.5 1.5 1.5"></a-text>

        <!-- Y-Axis (PtPG - Height) -->
        <a-entity line="start: 0 0 0; end: 0 5 0; color: blue;"></a-entity>
        <a-text value="PtPG" color="blue" position="0 6 0" rotation="0 0 0" scale="1.5 1.5 1.5"></a-text>

        <!-- Z-Axis (Weighted Rating - Depth) -->
        <a-entity line="start: 0 0 0; end: 0 0 5; color: green;"></a-entity>
        <a-text value="Weighted Rating" color="green" position="0 0 6" rotation="0 0 0" scale="1.5 1.5 1.5"></a-text>
      </a-entity>

      <!-- Scatterplot Data Points -->
      <a-entity id="scatterplot"></a-entity>

      <!-- Camera and Controls -->
      <a-camera position="0 2 8">
        <a-cursor></a-cursor>
      </a-camera>
    </a-scene>

    <script>
      // Load scatterplot data
      fetch('scatter_data.json')
        .then(response => response.json())
        .then(data => {
          const scatterplot = document.getElementById('scatterplot');

          data.forEach(point => {
            const { 'Completeness Rating': x, 'Weighted_Rating': z, PtPG: y, 'Player Name': name } = point;

            // Create a sphere for each data point
            const sphere = document.createElement('a-sphere');
            sphere.setAttribute('position', `${x} ${y} ${z}`);
            sphere.setAttribute('radius', 0.1);
            sphere.setAttribute('color', `#${Math.floor(Math.random()*16777215).toString(16)}`); // Random color

            // Tooltip for hover interaction
            sphere.setAttribute('tooltip', name);

            scatterplot.appendChild(sphere);
          });
        });
    </script>
  </body>
</html>

