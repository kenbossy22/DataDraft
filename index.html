<!DOCTYPE html>
<html>
  <head>
    <title>3D Scatterplot in VR</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- Background -->
      <a-sky color="#000"></a-sky>

      <!-- Axes -->
      <a-entity>
        <!-- X-axis (Completeness Rating) -->
        <a-box position="0 0 0" width="10" height="0.05" depth="0.05" color="red"></a-box>
        <a-text value="Completeness Rating" position="10 0 0.5" rotation="0 0 0" color="red"></a-text>

        <!-- Y-axis (PtPG) -->
        <a-box position="0 0 0" width="0.05" height="10" depth="0.05" color="green"></a-box>
        <a-text value="PtPG" position="0 10 0.5" rotation="0 0 0" color="green"></a-text>

        <!-- Z-axis (Weighted Rating) -->
        <a-box position="0 0 0" width="0.05" height="0.05" depth="10" color="blue"></a-box>
        <a-text value="Weighted Rating" position="0 0 10.5" rotation="0 0 0" color="blue"></a-text>
      </a-entity>

      <!-- Data Points -->
      <a-entity id="scatterplot"></a-entity>

      <!-- Camera -->
      <a-camera position="0 5 15">
        <a-cursor></a-cursor>
      </a-camera>
    </a-scene>

    <script>
      // Mock Data
      const data = [
        { 'Completeness Rating': 1, 'Weighted_Rating': 2, PtPG: 3, 'Player Name': 'Player 1' },
        { 'Completeness Rating': 4, 'Weighted_Rating': 5, PtPG: 6, 'Player Name': 'Player 2' },
        { 'Completeness Rating': 7, 'Weighted_Rating': 8, PtPG: 9, 'Player Name': 'Player 3' }
      ];

      const scatterplot = document.getElementById('scatterplot');

      data.forEach(point => {
        const { 'Completeness Rating': x, 'Weighted_Rating': z, PtPG: y, 'Player Name': name } = point;

        // Create sphere for each data point
        const sphere = document.createElement('a-sphere');
        sphere.setAttribute('position', `${x * 2} ${y * 2} ${z * 2}`);
        sphere.setAttribute('radius', 0.2);
        sphere.setAttribute('color', '#FF5733');
        sphere.setAttribute('hoverable', true);

        // Add hover label
        const tooltip = document.createElement('a-text');
        tooltip.setAttribute('value', name);
        tooltip.setAttribute('position', `${x * 2} ${y * 2 + 0.5} ${z * 2}`);
        tooltip.setAttribute('color', 'white');
        tooltip.setAttribute('scale', '1 1 1');
        scatterplot.appendChild(tooltip);

        scatterplot.appendChild(sphere);
      });
    </script>
  </body>
</html>
